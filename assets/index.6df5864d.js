(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();class a{constructor(){this.money=0,this.clickValue=1,this.autoClickValue=0,this.incomePerSecond=0,this.initElements(),this.bindEvents(),this.startAutoClicker(),this.updateDisplay()}initElements(){this.moneyDisplay=document.getElementById("money-amount"),this.incomeDisplay=document.getElementById("income-amount"),this.planetEarth=document.getElementById("planet-earth"),this.settingsBtn=document.getElementById("settings-btn"),this.mapBtn=document.getElementById("map-btn"),this.shopBtn=document.getElementById("shop-btn"),this.friendsBtn=document.getElementById("friends-btn")}bindEvents(){this.planetEarth.addEventListener("click",n=>this.clickPlanet(n)),this.settingsBtn.addEventListener("click",()=>this.openSettings()),this.mapBtn.addEventListener("click",()=>this.openMap()),this.shopBtn.addEventListener("click",()=>this.openShop()),this.friendsBtn.addEventListener("click",()=>this.openFriends()),document.getElementById("buy-click").addEventListener("click",()=>this.buyUpgrade("click")),document.getElementById("buy-auto").addEventListener("click",()=>this.buyUpgrade("auto"));const t=document.getElementById("buy-mars"),s=document.getElementById("buy-saturn"),e=document.getElementById("buy-jupiter"),i=document.getElementById("buy-sun");t&&t.addEventListener("click",()=>this.buyUpgrade("mars")),s&&s.addEventListener("click",()=>this.buyUpgrade("saturn")),e&&e.addEventListener("click",()=>this.buyUpgrade("jupiter")),i&&i.addEventListener("click",()=>this.buyUpgrade("sun"))}clickPlanet(t){this.money+=this.clickValue,this.updateDisplay(),this.planetEarth.classList.add("planet-clicked"),setTimeout(()=>{this.planetEarth.classList.remove("planet-clicked")},200),this.showMoneyPopup(t,this.clickValue)}showMoneyPopup(t,s){const e=document.createElement("div");e.className="money-popup",e.textContent=`+${s}`;const i=this.planetEarth.getBoundingClientRect(),n=t.clientX-i.left,o=t.clientY-i.top;e.style.left=n+"px",e.style.top=o+"px",e.style.position="absolute",this.planetEarth.appendChild(e),setTimeout(()=>{e.remove()},1e3)}startAutoClicker(){setInterval(()=>{this.autoClickValue>0&&(this.money+=this.autoClickValue,this.updateDisplay())},1e3)}updateDisplay(){this.moneyDisplay.textContent=this.formatNumber(this.money),this.incomeDisplay.textContent=this.formatNumber(this.incomePerSecond)}formatNumber(t){return t>=1e9?(t/1e9).toFixed(1)+"B":t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}openSettings(){this.showPanel("settings-panel")}openMap(){this.showPanel("map-panel")}openShop(){this.showPanel("shop-panel")}openFriends(){this.showPanel("friends-panel")}showPanel(t){const s=document.getElementById("overlay"),e=document.getElementById(t);s.classList.add("active"),e.classList.add("panel-visible"),s.onclick=()=>this.hideAllPanels();const i=e.querySelector(".close-btn");i.onclick=()=>this.hideAllPanels()}hideAllPanels(){const t=document.getElementById("overlay"),s=document.querySelectorAll(".settings-panel, .map-panel, .shop-panel, .friends-panel");t.classList.remove("active"),s.forEach(e=>e.classList.remove("panel-visible"))}buyUpgrade(t){if(t==="click"&&this.money>=10)this.money-=10,this.clickValue+=1,this.updateDisplay();else if(t==="auto"&&this.money>=50)this.money-=50,this.autoClickValue+=1,this.incomePerSecond=this.autoClickValue,this.updateDisplay();else if(t==="mars"&&this.money>=1e3){this.money-=1e3;const s=document.querySelector(".map-item.locked .planet-image.mars-planet");if(s){s.closest(".map-item").classList.remove("locked");const e=s.closest(".map-item").querySelector(".map-status");e&&(e.textContent="Доступна",e.classList.remove("locked"),e.classList.add("active"))}this.updateDisplay()}else if(t==="saturn"&&this.money>=5e3){this.money-=5e3;const s=document.querySelector(".map-item.locked .planet-image.saturn-planet");if(s){s.closest(".map-item").classList.remove("locked");const e=s.closest(".map-item").querySelector(".map-status");e&&(e.textContent="Доступна",e.classList.remove("locked"),e.classList.add("active"))}this.updateDisplay()}else if(t==="jupiter"&&this.money>=1e4){this.money-=1e4;const s=document.querySelector(".map-item.locked .planet-image.jupiter-planet");if(s){s.closest(".map-item").classList.remove("locked");const e=s.closest(".map-item").querySelector(".map-status");e&&(e.textContent="Доступна",e.classList.remove("locked"),e.classList.add("active"))}this.updateDisplay()}else if(t==="sun"&&this.money>=5e4){this.money-=5e4;const s=document.querySelector(".map-item.locked .planet-image.sun-planet");if(s){s.closest(".map-item").classList.remove("locked");const e=s.closest(".map-item").querySelector(".map-status");e&&(e.textContent="Доступна",e.classList.remove("locked"),e.classList.add("active"))}this.updateDisplay()}else console.log(`Purchase failed for ${t}. Money: ${this.money}`)}}document.addEventListener("DOMContentLoaded",()=>{new a});
